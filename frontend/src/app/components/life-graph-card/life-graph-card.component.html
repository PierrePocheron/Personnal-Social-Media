<div class="p-6 glass-panel rounded-2xl shadow-xl w-full min-h-[400px] relative animate-fade-in">
    <!-- ğŸ›ï¸ Filtres -->
    <div class="flex flex-wrap gap-2 mb-4">
        <button type="button" class="px-3 py-1 text-sm font-medium transition border rounded" [class.bg-indigo-500]="filters().person" [class.text-white]="filters().person" [class.border-indigo-500]="filters().person" [class.text-indigo-500]="!filters().person"
            [class.border-indigo-500]="!filters().person" (click)="toggleFilter('person')">
        ğŸ‘¤ Personnes
      </button>

        <button type="button" class="px-3 py-1 text-sm font-medium transition border rounded" [class.bg-green-500]="filters().event" [class.text-white]="filters().event" [class.border-green-500]="filters().event" [class.text-green-500]="!filters().event" [class.border-green-500]="!filters().event"
            (click)="toggleFilter('event')">
        ğŸ“… Ã‰vÃ©nements
      </button>

        <button type="button" class="px-3 py-1 text-sm font-medium transition border rounded" [class.bg-pink-500]="filters().place" [class.text-white]="filters().place" [class.border-pink-500]="filters().place" [class.text-pink-500]="!filters().place" [class.border-pink-500]="!filters().place"
            (click)="toggleFilter('place')">
        ğŸ“ Lieux
      </button>
    </div>

    <!-- â³ Chargement -->
    <div *ngIf="isLoading()" class="absolute inset-0 flex items-center justify-center z-10 glass-panel rounded-2xl">
        <app-loading-spinner message="Chargement du graphe..."></app-loading-spinner>
    </div>

    <!-- âŒ Empty State -->
    <div *ngIf="!isLoading() && allNodes().length === 0" class="absolute inset-0 flex flex-col items-center justify-center text-slate-400">
        <lucide-icon name="database" class="w-12 h-12 mb-2 opacity-50"></lucide-icon>
        <p>Aucune donnÃ©e Ã  afficher</p>
    </div>

    <div id="cy" class="w-full h-[600px] sm:h-[720px] bg-slate-50/5 rounded transition-all duration-300" [class.opacity-0]="isLoading()"></div>
</div>